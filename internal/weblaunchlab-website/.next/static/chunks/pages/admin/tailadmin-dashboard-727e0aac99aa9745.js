(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[894],{1421:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/tailadmin-dashboard",function(){return t(6031)}])},4178:function(e,r,t){"use strict";var a=t(5893);r.Z=e=>{let{title:r,value:t,icon:s,change:n,changeType:o="neutral",color:l="blue"}=e;return(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:r}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t}),n&&(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium ".concat({positive:"text-green-600",negative:"text-red-600",neutral:"text-gray-500"}[o]),children:["positive"===o&&"+",n]}),(0,a.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"vs last month"})]})]}),(0,a.jsx)("div",{className:"p-3 rounded-lg ".concat({blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",orange:"bg-orange-50 text-orange-600",purple:"bg-purple-50 text-purple-600",gray:"bg-gray-50 text-gray-600"}[l]),children:s})]})})}},6031:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return i}});var a=t(5893),s=t(7294),n=t(1639),o=t(4178),l=t(7190);function i(){let[e,r]=(0,s.useState)([]),[t,i]=(0,s.useState)([]),[d,c]=(0,s.useState)({totalDeals:0,totalValue:0,wonDeals:0,monthlyRevenue:0,conversionRate:0,avgDealSize:0}),[g,h]=(0,s.useState)(!0);(0,s.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await fetch("/api/admin/hubspot-deals");if(e.ok){let t=await e.json();r(t);let a=[...t].sort((e,r)=>new Date(r.createdAt)-new Date(e.createdAt));i(a.slice(0,5));let s=t.reduce((e,r)=>e+(r.amount||0),0),n=t.filter(e=>"closedwon"===e.stage),o=n.reduce((e,r)=>e+(r.amount||0),0),l=t.length>0?n.length/t.length*100:0,d=t.length>0?s/t.length:0;c({totalDeals:t.length,totalValue:s,wonDeals:n.length,monthlyRevenue:o,conversionRate:l,avgDealSize:d})}}catch(e){console.error("Error fetching dashboard data:",e)}finally{h(!1)}},u=e=>({appointmentscheduled:"bg-blue-100 text-blue-800",qualifiedtobuy:"bg-yellow-100 text-yellow-800",presentationscheduled:"bg-purple-100 text-purple-800",decisionmakerboughtin:"bg-green-100 text-green-800",contractsent:"bg-orange-100 text-orange-800",closedwon:"bg-green-200 text-green-900",closedlost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800",m=e=>({appointmentscheduled:"Appointment",qualifiedtobuy:"Qualified",presentationscheduled:"Presentation",decisionmakerboughtin:"Decision Maker",contractsent:"Contract Sent",closedwon:"Won",closedlost:"Lost"})[e]||e,p=[{key:"name",label:"Deal",render:(e,r)=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:new Date(r.createdAt).toLocaleDateString()})]})},{key:"amount",label:"Value",render:e=>(0,a.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-white",children:["$",(null==e?void 0:e.toLocaleString())||"0"]})},{key:"stage",label:"Stage",render:e=>(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(u(e)),children:m(e)})}];return g?(0,a.jsx)(n.Z,{title:"Dashboard",children:(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})}):(0,a.jsx)(n.Z,{title:"Dashboard",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:[(0,a.jsx)(o.Z,{title:"Total Deals",value:d.totalDeals,color:"blue",icon:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,a.jsx)(o.Z,{title:"Pipeline Value",value:"$".concat(d.totalValue.toLocaleString()),color:"green",icon:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,a.jsx)(o.Z,{title:"Won Deals",value:d.wonDeals,color:"purple",icon:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsx)(o.Z,{title:"Revenue",value:"$".concat(d.monthlyRevenue.toLocaleString()),color:"green",icon:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,a.jsx)(o.Z,{title:"Conversion",value:"".concat(d.conversionRate.toFixed(1),"%"),color:"orange",icon:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})}),(0,a.jsx)(o.Z,{title:"Avg Deal Size",value:"$".concat(Math.round(d.avgDealSize).toLocaleString()),color:"gray",icon:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)(l.Z,{title:"Recent Deals",data:t,columns:p,actions:[(0,a.jsx)("button",{onClick:()=>window.location.href="/admin/crm",className:"px-3 py-1.5 text-sm font-medium text-white bg-gray-900 dark:bg-gray-700 rounded-md hover:bg-gray-800 dark:hover:bg-gray-600",children:"View All"},"view-all")],emptyState:{title:"No deals yet",description:"Start by capturing leads from your website or create deals in HubSpot."}}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Quick Actions"})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"grid gap-4",children:[(0,a.jsx)("button",{onClick:()=>window.location.href="/admin/contacts",className:"p-4 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors group",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg mr-3 group-hover:bg-blue-200",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Add New Prospect"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Create new contact in HubSpot"})]})]})}),(0,a.jsx)("button",{onClick:()=>window.location.href="/admin/crm",className:"p-4 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors group",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg mr-3 group-hover:bg-purple-200",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Manage Pipeline"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Update deal stages & progress"})]})]})}),(0,a.jsx)("button",{onClick:()=>window.location.href="/admin/invoices",className:"p-4 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors group",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg mr-3 group-hover:bg-green-200",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Create Invoice"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Generate invoices for won deals"})]})]})}),(0,a.jsx)("button",{onClick:()=>window.open("https://app.hubspot.com/","_blank"),className:"p-4 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors group",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/20 rounded-lg mr-3 group-hover:bg-orange-200",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-orange-600 dark:text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Open HubSpot"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Access full HubSpot CRM"})]})]})})]})})]})]})]})})}}},function(e){e.O(0,[664,689,888,774,179],function(){return e(e.s=1421)}),_N_E=e.O()}]);