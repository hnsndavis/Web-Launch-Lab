(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[189],{2833:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard",function(){return a(7639)}])},7639:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var s=a(5893),n=a(7294),l=a(9639),r=a(1163);function c(){var e,t,a,c,o,d,i,m,x,u,h;let{user:p,loading:g}=(0,l.a)(),b=(0,r.useRouter)(),[y,f]=(0,n.useState)([]),[j,v]=(0,n.useState)({totalLeads:0,newLeads:0,qualifiedLeads:0,wonLeads:0,monthlyRevenue:0}),[N,w]=(0,n.useState)({open:!1,contact:null}),[k,C]=(0,n.useState)({subject:"",message:""}),[L,S]=(0,n.useState)(!1),[E,D]=(0,n.useState)(!1),[M,T]=(0,n.useState)({open:!1,contact:null}),[_,A]=(0,n.useState)("table"),[W,z]=(0,n.useState)({name:"",email:"",phone:"",company:"",industry:"",notes:""});(0,n.useEffect)(()=>{g||p&&"admin"===p.role||b.push("/login")},[p,g,b]),(0,n.useEffect)(()=>{(null==p?void 0:p.role)==="admin"&&(O(),q())},[p]);let O=async()=>{try{let e=await fetch("/api/admin/leads");if(e.ok){let t=await e.json();f(t)}}catch(e){console.error("Error fetching leads:",e)}},q=async()=>{try{let e=await fetch("/api/admin/stats");if(e.ok){let t=await e.json();v(t)}}catch(e){console.error("Error fetching stats:",e)}},P=e=>{switch(e){case"new":return"bg-blue-100 text-blue-800";case"contacted":return"bg-yellow-100 text-yellow-800";case"qualified":return"bg-purple-100 text-purple-800";case"won":return"bg-green-100 text-green-800";case"lost":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},R=e=>e>=80?"text-green-600 font-semibold":e>=60?"text-yellow-600 font-semibold":"text-red-600 font-semibold",B=e=>{w({open:!0,contact:e}),C({subject:"Follow up from WebLaunch Lab",message:""})},I=()=>{w({open:!1,contact:null}),C({subject:"",message:""})},U=async()=>{S(!0);try{(await fetch("/api/contacts/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contactId:N.contact.id,subject:k.subject,message:k.message})})).ok?(alert("Email sent successfully!"),I(),O()):alert("Failed to send email")}catch(e){alert("Error sending email")}finally{S(!1)}},F=async()=>{try{(await fetch("/api/admin/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)})).ok?(alert("Contact added successfully!"),D(!1),z({name:"",email:"",phone:"",company:"",industry:"",notes:""}),O(),q()):alert("Failed to add contact")}catch(e){alert("Error adding contact")}},H=e=>{T({open:!0,contact:{...e}})},J=async()=>{try{(await fetch("/api/contacts/".concat(M.contact.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(M.contact)})).ok?(alert("Contact updated successfully!"),T({open:!1,contact:null}),O(),q()):alert("Failed to update contact")}catch(e){alert("Error updating contact")}},V=async e=>{if(confirm("Are you sure you want to delete this contact?"))try{(await fetch("/api/contacts/".concat(e),{method:"DELETE"})).ok?(alert("Contact deleted successfully!"),O(),q()):alert("Failed to delete contact")}catch(e){alert("Error deleting contact")}},Q=async(e,t)=>{try{(await fetch("/api/contacts/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})})).ok&&(O(),q())}catch(e){console.error("Error updating status:",e)}};return g?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-black"})}):p&&"admin"===p.role?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-black rounded-lg flex items-center justify-center mr-3",children:(0,s.jsx)("span",{className:"text-white font-bold text-sm",children:"W"})}),(0,s.jsx)("span",{className:"text-xl font-semibold text-gray-900",children:"WebLaunch Lab"}),(0,s.jsx)("span",{className:"ml-4 px-2 py-1 bg-black text-white text-xs rounded-md",children:"Admin"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["Welcome, ",p.email]}),(0,s.jsx)("button",{onClick:()=>b.push("/"),className:"text-sm text-gray-600 hover:text-gray-900",children:"View Site"}),(0,s.jsx)("button",{onClick:()=>b.push("/"),className:"text-sm text-gray-600 hover:text-gray-900",children:"Logout"})]})]})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-2 bg-blue-100 rounded-md",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Leads"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:j.totalLeads})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-2 bg-green-100 rounded-md",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"New Leads"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:j.newLeads})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-2 bg-purple-100 rounded-md",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Qualified"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:j.qualifiedLeads})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-2 bg-yellow-100 rounded-md",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Won Deals"}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:j.wonLeads})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-2 bg-green-100 rounded-md",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Monthly Revenue"}),(0,s.jsxs)("p",{className:"text-2xl font-semibold text-gray-900",children:["$",j.monthlyRevenue.toLocaleString()]})]})]})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Leads"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)("div",{className:"flex border border-gray-300 rounded-md overflow-hidden",children:[(0,s.jsx)("button",{onClick:()=>A("table"),className:"px-3 py-2 text-sm font-medium ".concat("table"===_?"bg-gray-900 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Table"}),(0,s.jsx)("button",{onClick:()=>A("kanban"),className:"px-3 py-2 text-sm font-medium ".concat("kanban"===_?"bg-gray-900 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Kanban"})]}),(0,s.jsx)("button",{onClick:()=>{let e=new Blob([[["Name","Email","Phone","Company","Industry","Status","Score","Source","Date"],...y.map(e=>[e.name,e.email,e.phone||"",e.company||"",e.industry||"",e.status,e.score,e.source||"",new Date(e.created_at).toLocaleDateString()])].map(e=>e.join(",")).join("\n")],{type:"text/csv"}),t=window.URL.createObjectURL(e),a=document.createElement("a");a.setAttribute("hidden",""),a.setAttribute("href",t),a.setAttribute("download","contacts.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(t)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Export"}),(0,s.jsx)("button",{onClick:()=>D(!0),className:"px-4 py-2 text-sm font-medium text-white bg-black rounded-md hover:bg-gray-800",children:"Add Lead"})]})]})}),"table"===_?(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Industry"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,s.jsx)("th",{className:"relative px-6 py-3",children:(0,s.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.email}),e.phone&&(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.phone})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.company||"-"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.industry||"-"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("span",{className:"text-sm font-medium ".concat(R(e.score)),children:[e.score,"/100"]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat(P(e.status)),children:e.status})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.source}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)("button",{onClick:()=>B(e),className:"text-blue-600 hover:text-blue-800 px-2 py-1",children:"Email"}),(0,s.jsx)("button",{onClick:()=>H(e),className:"text-green-600 hover:text-green-800 px-2 py-1",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>alert("Contact Details:\n\nName: ".concat(e.name,"\nEmail: ").concat(e.email,"\nPhone: ").concat(e.phone||"N/A","\nCompany: ").concat(e.company||"N/A","\nIndustry: ").concat(e.industry||"N/A","\nStatus: ").concat(e.status,"\nScore: ").concat(e.score,"\nSource: ").concat(e.source||"N/A","\nNotes: ").concat(e.notes||"None","\nCreated: ").concat(new Date(e.created_at).toLocaleDateString())),className:"text-gray-600 hover:text-gray-800 px-2 py-1",children:"View"}),(0,s.jsx)("button",{onClick:()=>V(e.id),className:"text-red-600 hover:text-red-800 px-2 py-1",children:"Delete"})]})})]},e.id))})]})}):(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:["new","contacted","qualified","won","lost"].map(e=>(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,s.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4 capitalize flex items-center justify-between",children:["new"===e?"New Leads":"contacted"===e?"Contacted":"qualified"===e?"Qualified":"won"===e?"Won":"Lost",(0,s.jsx)("span",{className:"bg-gray-200 text-gray-700 text-xs px-2 py-1 rounded-full",children:y.filter(t=>t.status===e).length})]}),(0,s.jsx)("div",{className:"space-y-3",children:y.filter(t=>t.status===e).map(e=>(0,s.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 cursor-move hover:shadow-md transition-shadow",draggable:!0,onDragStart:t=>{t.dataTransfer.setData("text/plain",e.id)},children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:e.name}),(0,s.jsxs)("div",{className:"flex space-x-1",children:[(0,s.jsx)("button",{onClick:()=>B(e),className:"text-blue-500 hover:text-blue-700 text-xs",title:"Send Email",children:"✉"}),(0,s.jsx)("button",{onClick:()=>H(e),className:"text-green-500 hover:text-green-700 text-xs",title:"Edit",children:"✏"}),(0,s.jsx)("button",{onClick:()=>V(e.id),className:"text-red-500 hover:text-red-700 text-xs",title:"Delete",children:"\uD83D\uDDD1"})]})]}),(0,s.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:e.email}),e.company&&(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:e.company}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("span",{className:"text-xs font-semibold text-gray-700",children:["Score: ",e.score]}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]})]},e.id))}),(0,s.jsxs)("div",{className:"mt-4 border-2 border-dashed border-gray-300 rounded-lg p-4 text-center text-gray-500 text-sm",onDragOver:e=>{e.preventDefault(),e.currentTarget.classList.add("border-blue-400","bg-blue-50")},onDragLeave:e=>{e.currentTarget.classList.remove("border-blue-400","bg-blue-50")},onDrop:t=>{t.preventDefault(),t.currentTarget.classList.remove("border-blue-400","bg-blue-50"),Q(t.dataTransfer.getData("text/plain"),e)},children:["Drop here to move to ",e]})]},e))})}),0===y.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,s.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No leads yet"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by capturing leads from your website."})]})]})]}),N.open&&(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,s.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Send Email to ",null===(e=N.contact)||void 0===e?void 0:e.name]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),(0,s.jsx)("input",{type:"text",value:k.subject,onChange:e=>C({...k,subject:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),(0,s.jsx)("textarea",{rows:"6",value:k.message,onChange:e=>C({...k,message:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Type your message here..."})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,s.jsx)("button",{onClick:I,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",disabled:L,children:"Cancel"}),(0,s.jsx)("button",{onClick:U,disabled:L||!k.subject||!k.message,className:"px-4 py-2 bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:L?"Sending...":"Send Email"})]})]})})}),M.open&&(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,s.jsx)("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white",children:(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Edit Contact"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),(0,s.jsx)("input",{type:"text",value:(null===(t=M.contact)||void 0===t?void 0:t.name)||"",onChange:e=>T({...M,contact:{...M.contact,name:e.target.value}}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,s.jsx)("input",{type:"email",value:(null===(a=M.contact)||void 0===a?void 0:a.email)||"",onChange:e=>T({...M,contact:{...M.contact,email:e.target.value}}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,s.jsx)("input",{type:"tel",value:(null===(c=M.contact)||void 0===c?void 0:c.phone)||"",onChange:e=>T({...M,contact:{...M.contact,phone:e.target.value}}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),(0,s.jsx)("input",{type:"text",value:(null===(o=M.contact)||void 0===o?void 0:o.company)||"",onChange:e=>T({...M,contact:{...M.contact,company:e.target.value}}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry"}),(0,s.jsx)("input",{type:"text",value:(null===(d=M.contact)||void 0===d?void 0:d.industry)||"",onChange:e=>T({...M,contact:{...M.contact,industry:e.target.value}}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,s.jsxs)("select",{value:(null===(i=M.contact)||void 0===i?void 0:i.status)||"new",onChange:e=>T({...M,contact:{...M.contact,status:e.target.value}}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",children:[(0,s.jsx)("option",{value:"new",children:"New"}),(0,s.jsx)("option",{value:"contacted",children:"Contacted"}),(0,s.jsx)("option",{value:"qualified",children:"Qualified"}),(0,s.jsx)("option",{value:"won",children:"Won"}),(0,s.jsx)("option",{value:"lost",children:"Lost"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Score (0-100)"}),(0,s.jsx)("input",{type:"number",min:"0",max:"100",value:(null===(m=M.contact)||void 0===m?void 0:m.score)||50,onChange:e=>T({...M,contact:{...M.contact,score:parseInt(e.target.value)}}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,s.jsx)("textarea",{rows:"3",value:(null===(x=M.contact)||void 0===x?void 0:x.notes)||"",onChange:e=>T({...M,contact:{...M.contact,notes:e.target.value}}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,s.jsx)("button",{onClick:()=>T({open:!1,contact:null}),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,s.jsx)("button",{onClick:J,disabled:!(null===(u=M.contact)||void 0===u?void 0:u.name)||!(null===(h=M.contact)||void 0===h?void 0:h.email),className:"px-4 py-2 bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Update Contact"})]})]})})}),E&&(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,s.jsx)("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white",children:(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Contact"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),(0,s.jsx)("input",{type:"text",value:W.name,onChange:e=>z({...W,name:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,s.jsx)("input",{type:"email",value:W.email,onChange:e=>z({...W,email:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,s.jsx)("input",{type:"tel",value:W.phone,onChange:e=>z({...W,phone:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),(0,s.jsx)("input",{type:"text",value:W.company,onChange:e=>z({...W,company:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry"}),(0,s.jsx)("input",{type:"text",value:W.industry,onChange:e=>z({...W,industry:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,s.jsx)("textarea",{rows:"3",value:W.notes,onChange:e=>z({...W,notes:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,s.jsx)("button",{onClick:()=>D(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,s.jsx)("button",{onClick:F,disabled:!W.name||!W.email,className:"px-4 py-2 bg-black text-white rounded-md hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Contact"})]})]})})})]}):null}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=2833)}),_N_E=e.O()}]);